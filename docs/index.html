<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Automated Farming System API</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f8f9fa;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 { color: #2c5530; border-bottom: 3px solid #4a7c59; padding-bottom: 10px; margin-bottom: 30px; }
        h2 { color: #4a7c59; border-bottom: 2px solid #6fa777; padding-bottom: 8px; margin-top: 40px; }
        h3 { color: #5d8a6b; margin-top: 30px; }
        .codehilite { background-color: #f8f8f8; border: 1px solid #e1e1e1; border-radius: 4px; padding: 15px; overflow-x: auto; margin: 20px 0; }
        .codehilite pre { margin: 0; font-family: 'Courier New', monospace; font-size: 14px; }
        ul, ol { margin: 15px 0; padding-left: 30px; }
        li { margin: 8px 0; }
        a { color: #4a7c59; text-decoration: none; }
        a:hover { color: #2c5530; text-decoration: underline; }
        hr { border: none; height: 2px; background: linear-gradient(90deg, #4a7c59, #6fa777, #4a7c59); margin: 40px 0; }
    </style>
    
</head>
<body>
    <div class="container">
        <h1>Automated Farming System API</h1>

<p><a href="https://github.com/dderyldowney/afs_fastapi/actions/workflows/afs-testing.yml"><img src="https://github.com/dderyldowney/afs_fastapi/actions/workflows/afs-testing.yml/badge.svg" alt="AFS Testing" /></a> <a href="https://github.com/dderyldowney/afs_fastapi/actions/workflows/security.yml"><img src="https://github.com/dderyldowney/afs_fastapi/actions/workflows/security.yml/badge.svg" alt="Security Review" /></a></p>

<p><img src="resources/static/images/afs_fastapi-logo.jpg" alt="Automated Farming System API logo" /></p>

<h2>Current Status &amp; Recent Developments</h2>

<p><strong>Agricultural Robotics Platform (v0.1.3+)</strong></p>

<p>AFS FastAPI has evolved into a production-ready multi-tractor coordination system with comprehensive reliability and educational value.</p>

<p><strong>Recent Major Enhancements:</strong>
- <strong>Test-First Development</strong>: Complete TDD methodology with mandatory Red-Green-Refactor enforcement
- <strong>Distributed Systems</strong>: Vector Clock implementation for multi-tractor fleet coordination
- <strong>Enhanced Testing</strong>: Test suite expanded to <strong>161 tests</strong> (100% passing in &lt;3s)
- <strong>Universal AI Agent Infrastructure</strong>: Automated session management and enforcement for all AI platforms
- <strong>Professional Documentation</strong>: Comprehensive guides and strategic positioning documentation
- <strong>Zero Technical Debt</strong>: No linting warnings across entire codebase</p>

<p><strong>Strategic Capabilities:</strong>
- <strong>Multi-tractor coordination</strong>: Conflict-free field operations with real-time synchronization
- <strong>ISOBUS compliance</strong>: Full ISO 11783 and ISO 18497 (Safety) implementation
- <strong>Network resilience</strong>: Handles intermittent rural connectivity scenarios
- <strong>Educational framework</strong>: Dual-purpose code serving functional and instructional objectives</p>

<hr />

<h2>Project Conceptual Goals</h2>

<h3>Vision: Agricultural Technology Education Through Real-World Implementation</h3>

<p><strong>Primary Mission</strong>: Build a production-grade agricultural robotics platform that serves dual purposes:</p>

<ol>
<li><strong>Functional Excellence</strong>: Enterprise-ready multi-tractor coordination system with bulletproof reliability</li>
<li><strong>Educational Value</strong>: Living codebase demonstrating professional agricultural technology development</li>
</ol>

<h3>Core Conceptual Objectives</h3>

<p><strong>1. Test-Driven Development as Foundation</strong>
- ALL code (human and AI-generated) MUST begin with failing tests
- Tests DRIVE implementation rather than document it
- Red-Green-Refactor methodology ensures bulletproof reliability for safety-critical systems</p>

<p><strong>2. Industry Standards Compliance</strong>
- Complete ISO 11783 (ISOBUS) implementation for tractor-implement communication
- ISO 18497 (Safety) compliance for agricultural machinery functional safety
- Professional agricultural equipment interfaces across six major categories</p>

<p><strong>3. Distributed Systems Excellence</strong>
- Multi-tractor fleet coordination with conflict-free operations
- Vector Clock implementation for causal ordering of agricultural events
- Network resilience handling rural connectivity challenges</p>

<p><strong>4. Universal AI Agent Development</strong>
- Identical requirements for ALL AI platforms (Claude, GPT, Gemini, Copilot, CodeWhisperer)
- Automated enforcement of TDD, commit separation, and documentation standards
- Cross-session persistence ensuring continuity across development sessions</p>

<p><strong>5. Educational Framework Integration</strong>
- Code explanations at architecture and implementation levels
- Professional agricultural technology concepts embedded throughout
- Dual-purpose design teaching while building real-world systems</p>

<h3>Success Criteria</h3>

<p><strong>Technical Excellence</strong>:
- Zero test failures across comprehensive suite (161 tests)
- Zero code quality warnings (Ruff, MyPy, Black, isort)
- Sub-second test execution for rapid development feedback
- Complete industry compliance validation</p>

<p><strong>Educational Impact</strong>:
- Developers learn agricultural robotics through functional code
- Test-First methodology demonstrated with real-world examples
- Professional standards embedded in development workflow
- Cross-platform AI agent capabilities consistently applied</p>

<p><strong>Production Readiness</strong>:
- Enterprise-grade quality assurance framework
- Automated enforcement preventing quality regression
- Comprehensive documentation supporting deployment
- Real agricultural equipment integration capability</p>

<hr />

<h2>Project Context</h2>

<h3>Agricultural Robotics Landscape</h3>

<p><strong>Industry Challenge</strong>: Modern agriculture faces increasing demand for automation while maintaining safety, reliability, and regulatory compliance. Traditional agricultural machinery manufacturers provide equipment, but multi-tractor coordination systems remain specialized and proprietary.</p>

<p><strong>AFS FastAPI Position</strong>: Open platform demonstrating how distributed systems principles apply to agricultural robotics while maintaining educational value for technology professionals entering this specialized field.</p>

<h3>Technical Domain Context</h3>

<p><strong>Distributed Agricultural Systems</strong>:
- <strong>Multi-Tractor Coordination</strong>: Multiple autonomous tractors working same field require precise synchronization
- <strong>Rural Connectivity</strong>: Intermittent network availability demands robust offline operation and eventual consistency
- <strong>Safety-Critical Operations</strong>: ISO 18497 compliance essential for equipment operating near humans
- <strong>Real-Time Constraints</strong>: Sub-second coordination for collision avoidance and field operation efficiency</p>

<p><strong>Industry Standards Integration</strong>:
- <strong>ISO 11783 (ISOBUS)</strong>: Seven-layer communication protocol for tractor-implement interaction
- <strong>ISO 18497</strong>: Functional safety standard for agricultural machinery with Performance Level requirements
- <strong>Professional Interfaces</strong>: Six categories including ISOBUS communication, safety systems, motor control, data management, power management, and vision/sensor systems</p>

<h3>Development Methodology Context</h3>

<p><strong>Test-First Development Imperative</strong>:
- Agricultural robotics demands bulletproof reliability
- Equipment failures can cause damage or safety incidents
- ALL code—human or AI-generated—must meet identical rigorous standards
- Test-Driven Development ensures comprehensive validation from first line of code</p>

<p><strong>Universal AI Agent Requirements</strong>:
- Development assistants (Claude, GPT, Gemini, Copilot, CodeWhisperer) must follow identical standards
- Cross-session persistence maintains context across multiple development sessions
- Automated enforcement prevents quality regression regardless of contributor type
- Structured investigation patterns ensure transparent reasoning from all agents</p>

<p><strong>Cross-Session Continuity</strong>:
- Session management infrastructure ensures context restoration after interruptions
- Mandatory requirements embedded permanently in project configuration
- Automated session initialization for all Claude Code agents
- Complete state capture with compaction protocol preventing knowledge fragmentation</p>

<h3>Educational Context</h3>

<p><strong>Dual-Purpose Mission</strong>:
- <strong>Functional</strong>: Production-ready agricultural robotics platform
- <strong>Instructional</strong>: Living example of professional agricultural technology development</p>

<p><strong>Learning Objectives</strong>:
- Modern Python patterns (type hints, dataclasses, union types, Python 3.12+ features)
- Distributed systems concepts (CRDTs, vector clocks, fleet coordination)
- Agricultural technology standards (ISOBUS, safety compliance, professional interfaces)
- Enterprise development practices (TDD, API design, code quality automation, CI/CD)</p>

<p><strong>Target Audience</strong>:
- Software engineers entering agricultural technology field
- Agricultural equipment professionals learning modern software practices
- Distributed systems developers exploring domain-specific applications
- AI-assisted development practitioners studying quality assurance</p>

<hr />

<h2>Project Strategy</h2>

<h3>Strategic Positioning</h3>

<p><strong>Industry Leadership Achievement</strong>:
- <strong>Only platform</strong> combining multi-tractor coordination with mandatory TDD enforcement
- Complete standards compliance with ISO 11783 (ISOBUS) and ISO 18497 (Safety)
- Educational framework integration for professional agricultural technology development
- Universal AI development standards ensuring consistent quality from all contributors</p>

<p><strong>Competitive Advantages</strong>:
- <strong>Distributed Coordination</strong>: Vector Clock implementation enables reliable multi-tractor operations
- <strong>Test-First Methodology</strong>: Bulletproof reliability through comprehensive validation before implementation
- <strong>Cross-Session Persistence</strong>: Requirements permanently embedded in development workflow
- <strong>Professional Standards</strong>: Enterprise-grade quality assurance with automated enforcement</p>

<h3>Development Strategy</h3>

<p><strong>Phase 1: Foundation (Completed - v0.1.3+)</strong>
- Core equipment control with FarmTractor class (40+ attributes, comprehensive methods)
- FastAPI endpoints with Pydantic models for robust API layer
- Monitoring systems with pluggable backend architecture
- Comprehensive test suite (161 tests) with 100% success rate</p>

<p><strong>Phase 2: Distributed Systems (Current)</strong>
- Vector Clock implementation for multi-tractor synchronization (COMPLETED)
- Test-Driven Development methodology enforcement (COMPLETED)
- Git commit separation and CHANGELOG automation (COMPLETED)
- Universal AI agent infrastructure (COMPLETED)
- <strong>Next Priority</strong>: CRDT implementation for field allocation conflict resolution</p>

<p><strong>Phase 3: Advanced Coordination (Planned)</strong>
- Enhanced ISOBUS messaging with guaranteed delivery
- Multi-field operation optimization algorithms
- Advanced collision avoidance with sensor fusion
- Production deployment framework</p>

<p><strong>Phase 4: Hardware Integration (Future)</strong>
- Real agricultural equipment interface validation
- Field testing with actual multi-tractor fleets
- Performance optimization for embedded tractor computers
- Enterprise scaling for large agricultural operations</p>

<h3>Quality Assurance Strategy</h3>

<p><strong>Automated Enforcement Framework</strong>:
- <strong>Pre-commit Hooks</strong>: Seven validation gates (Ruff, Black, isort, MyPy, TDD, Safety, CHANGELOG, Commit Separation)
- <strong>Test-First Validation</strong>: Prevents implementation code without prior failing tests
- <strong>Commit Separation</strong>: Ensures single-concern commits with agricultural context
- <strong>CHANGELOG Enforcement</strong>: Automatic documentation validation for audit trails</p>

<p><strong>Cross-Platform Consistency</strong>:
- ALL AI agents follow identical TDD requirements (RED-GREEN-REFACTOR)
- Universal investigation pattern provides transparent reasoning
- Standardized test reporting format across all platforms
- Cross-agent infrastructure sharing prevents configuration drift</p>

<p><strong>Continuous Quality Standards</strong>:
- Zero test failures maintained across all 161 tests
- Zero code quality warnings from all validation tools
- Sub-3-second test execution for rapid feedback
- Complete agricultural compliance validation</p>

<h3>Documentation Strategy</h3>

<p><strong>Comprehensive Framework</strong>:
- <strong>Strategic Documents<em>*: TDD_FRAMEWORK_MANDATORY.md, GIT_COMMIT_SEPARATION_MANDATORY.md, INVESTIGATION_PATTERN_MANDATORY.md, TEST_REPORTING_MANDATORY.md
- *</em>Development Integration<em>*: CLAUDE.md (AI assistant configuration), AGENTS.md (professional agent documentation), SESSION_SUMMARY.md (cross-session context)
- *</em>Reference Documentation<em>*: WORKFLOW.md (authoritative testing reference), TDD_WORKFLOW.md (Test-First methodology), EXECUTION_ORDER.md (session architecture)
- *</em>ISO 11783 Specifications</strong>: Authoritative technical references (iso11783-11-online_data_base.pdf, isoExport_csv.zip, OSI model diagrams)</p>

<p><strong>Cross-Session Continuity</strong>:
- <code>loadsession</code> command provides immediate context restoration
- <code>savesession</code> command captures complete state with compaction protocol
- <code>runtests</code> command executes comprehensive validation with standardized reporting
- <code>updatechangelog</code> command generates audit-compliant version history</p>

<p><strong>Professional Standards</strong>:
- Clear, factual language without marketing superlatives
- Technical accuracy over promotional rhetoric
- Measured descriptions appropriate for engineering teams
- Educational content with professional terminology</p>

<h3>Deployment Strategy</h3>

<p><strong>Development Environment</strong>:
- Python 3.12+ with comprehensive type annotations
- FastAPI framework with Pydantic validation
- Modern development tools (Ruff, MyPy, Black, isort)
- Universal AI agent support across all platforms</p>

<p><strong>Testing Environment</strong>:
- 161 comprehensive tests across 3-layer architecture
- Feature tests (end-to-end workflows), Unit tests (component validation), Root-level tests (edge cases)
- Agricultural domain coverage (Equipment, Monitoring, API, Infrastructure)
- Performance metrics and quality assurance validation</p>

<p><strong>Production Environment</strong> (Planned):
- Real agricultural equipment interfaces
- Embedded tractor computer optimization
- Multi-tractor fleet coordination at scale
- Enterprise deployment with ISO compliance validation</p>

<hr />

<h2>Architecture Overview</h2>

<p><strong>Enterprise-Grade Agricultural Robotics Platform</strong></p>

<p>AFS FastAPI implements a sophisticated <strong>3-layer architecture</strong> supporting both individual equipment control and distributed fleet coordination:</p>

<h3>Core Architecture Layers</h3>

<p><strong>1. Equipment Layer</strong>: Individual tractor control with full ISOBUS compliance
- FarmTractor class with 40+ attributes for comprehensive equipment interface
- ISOBUS integration implementing ISO 11783 device communication
- Safety systems providing ISO 18497 compliance (PLc/PLd/PLe levels)
- Vision systems with LiDAR integration and obstacle detection</p>

<p><strong>2. Coordination Layer</strong>: Multi-tractor synchronization with conflict-free operations
- Vector Clock implementation for causal ordering across distributed tractors
- Network resilience handling intermittent rural connectivity
- ISOBUS-compatible serialization for ISO 11783 messages
- Sub-millisecond performance validated for embedded equipment</p>

<p><strong>3. API Layer</strong>: RESTful interfaces for external systems and human operators
- FastAPI endpoints with Pydantic models for robust validation
- Comprehensive equipment status exposure via FarmTractorResponse
- Monitoring system integration (soil, water, environmental sensors)
- Professional agricultural standards compliance</p>

<h3>Multi-Tractor Fleet Coordination</h3>

<p><strong>Vector Clock Synchronization</strong>:
- Ensures proper event ordering across multiple tractors
- Enables conflict-free operations in shared field spaces
- Handles network partitions with eventual consistency
- Real-time coordination with sub-millisecond performance</p>

<p><strong>Distributed Systems Components</strong>:</p>

<div class="codehilite">
<pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">afs_fastapi.services.synchronization</span><span class="w"> </span><span class="kn">import</span> <span class="n">VectorClock</span>

<span class="c1"># Create vector clock for 3-tractor fleet</span>
<span class="n">tractors</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;tractor_001&quot;</span><span class="p">,</span> <span class="s2">&quot;tractor_002&quot;</span><span class="p">,</span> <span class="s2">&quot;tractor_003&quot;</span><span class="p">]</span>
<span class="n">clock</span> <span class="o">=</span> <span class="n">VectorClock</span><span class="p">(</span><span class="n">tractors</span><span class="p">)</span>

<span class="c1"># Tractor performs local operation (planting section)</span>
<span class="n">clock</span><span class="o">.</span><span class="n">increment</span><span class="p">(</span><span class="s2">&quot;tractor_001&quot;</span><span class="p">)</span>

<span class="c1"># Receive coordination message from another tractor</span>
<span class="n">other_clock</span> <span class="o">=</span> <span class="n">VectorClock</span><span class="p">(</span><span class="n">tractors</span><span class="p">)</span>
<span class="n">other_clock</span><span class="o">.</span><span class="n">increment</span><span class="p">(</span><span class="s2">&quot;tractor_002&quot;</span><span class="p">)</span>
<span class="n">clock</span><span class="o">.</span><span class="n">update_with_received_message</span><span class="p">(</span><span class="s2">&quot;tractor_001&quot;</span><span class="p">,</span> <span class="n">other_clock</span><span class="p">)</span>

<span class="c1"># Check event ordering for coordination</span>
<span class="k">if</span> <span class="n">clock</span><span class="o">.</span><span class="n">happens_before</span><span class="p">(</span><span class="n">other_clock</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Safe to proceed with dependent operation&quot;</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">clock</span><span class="o">.</span><span class="n">is_concurrent_with</span><span class="p">(</span><span class="n">other_clock</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Independent operations - no coordination needed&quot;</span><span class="p">)</span>
</code></pre>
</div>

<hr />

<h2>Test-First Development &amp; Quality Assurance</h2>

<h3>Mandatory Test-Driven Development</h3>

<p><strong>ABSOLUTE REQUIREMENT</strong>: ALL code (human and AI-generated) MUST begin with failing tests.</p>

<p><strong>Red-Green-Refactor Protocol</strong>:
1. <strong>RED Phase</strong>: Write failing test describing agricultural robotics behavior
2. <strong>GREEN Phase</strong>: Implement minimal code meeting test requirements
3. <strong>REFACTOR Phase</strong>: Enhance code quality while maintaining test coverage</p>

<p><strong>Test Suite Status: 161 Tests</strong> (100% passing in ~3 seconds)</p>

<p><strong>Test Distribution by Domain</strong>:
- <strong>Equipment Domain (54 tests)</strong>: Core tractor operations, advanced features, robotic interfaces
  - Basic Operations (11 tests): Engine control, hydraulics, gear changes
  - Advanced Features (8 tests): GPS, autonomous mode, implement controls
  - Robotic Interfaces (33 tests): ISOBUS, safety systems, motor control, data management, power systems
- <strong>Monitoring Systems (10 tests)</strong>: Soil and water monitoring capabilities
- <strong>API &amp; Infrastructure (17 tests)</strong>: FastAPI endpoints and system integration
- <strong>Station Management (18 tests)</strong>: Command and control functionality
- <strong>Features Integration (28 tests)</strong>: End-to-end agricultural workflow validation
- <strong>Distributed Systems (11 tests)</strong>: Vector clocks, multi-tractor coordination, TDD implementation
- <strong>Session Management (10 tests)</strong>: Automatic initialization and context restoration
- <strong>CHANGELOG Enforcement (9 tests)</strong>: Automated documentation validation
- <strong>Update Changelog (13 tests)</strong>: Automated CHANGELOG generation from git history
- <strong>Root-level Edge Cases (11 tests)</strong>: System resilience and error handling</p>

<h3>Quality Assurance Framework</h3>

<p><strong>Automated Pre-commit Validation</strong>:
- <strong>Code Quality</strong>: Ruff (lint), Black (format), isort (imports), MyPy (types)
- <strong>TDD Enforcement</strong>: Validates Test-First Development compliance
- <strong>Safety Standards</strong>: Ensures ISO 18497 agricultural safety compliance
- <strong>CHANGELOG Documentation</strong>: Automatic validation for audit trail completeness
- <strong>Commit Separation</strong>: Single-concern validation with agricultural context</p>

<p><strong>Performance Metrics</strong>:
- <strong>Execution Time</strong>: Sub-3-second runtime for complete test suite
- <strong>Success Rate</strong>: 100% pass rate maintained continuously
- <strong>Coverage</strong>: Comprehensive validation across all agricultural domains
- <strong>Quality Standards</strong>: Zero warnings across all validation tools</p>

<p><strong>Documentation References</strong>:
- <strong>TDD_FRAMEWORK_MANDATORY.md</strong>: Complete mandatory TDD policy with enforcement details
- <strong>TDD_WORKFLOW.md</strong>: Complete Test-First development guide with examples
- <strong>WORKFLOW.md</strong>: Authoritative testing reference with architectural patterns
- <strong>GIT_COMMIT_SEPARATION_MANDATORY.md</strong>: Separation of concerns policy with validation</p>

<hr />

<h2>FarmTractor Class: Core Equipment Interface</h2>

<h3>Class Overview</h3>

<p>The <code>FarmTractor</code> class provides comprehensive agricultural equipment control implementing professional agricultural robotics standards while maintaining complete backwards compatibility.</p>

<p><strong>Professional Standards Integration</strong>:
- <strong>ISOBUS Communication</strong>: Full ISO 11783 device communication implementation
- <strong>Safety Systems</strong>: ISO 18497 compliance with Performance Level (PLc/PLd/PLe) support
- <strong>Vision &amp; Sensor Systems</strong>: LiDAR integration and obstacle detection capabilities
- <strong>Motor Control Interfaces</strong>: Precision control for agricultural operations
- <strong>Data Management Systems</strong>: Comprehensive telemetry and diagnostics
- <strong>Power Management</strong>: Regenerative systems and efficiency optimization</p>

<h3>Core Attributes (40+ total)</h3>

<p><strong>Core Identification</strong>:
- <code>make</code> (str): The manufacturer of the tractor
- <code>model</code> (str): The model of the tractor
- <code>year</code> (int): The year of manufacture
- <code>manual_url</code> (str | None): URL to the operational manual</p>

<p><strong>Engine and Basic Controls</strong>:
- <code>engine_on</code> (bool): Whether the engine is currently running
- <code>speed</code> (int): Current speed in mph
- <code>gear</code> (int): Current gear (0-10)
- <code>power_takeoff</code> (bool): Whether the PTO is engaged
- <code>hydraulics</code> (bool): Whether hydraulics are activated</p>

<p><strong>GPS and Navigation</strong>:
- <code>gps_latitude</code> (float | None): Current GPS latitude coordinate
- <code>gps_longitude</code> (float | None): Current GPS longitude coordinate
- <code>auto_steer_enabled</code> (bool): Whether auto-steer is active
- <code>waypoints</code> (List[Tuple[float, float]]): Navigation waypoints
- <code>current_heading</code> (float): Current heading in degrees</p>

<p><strong>Implement Controls</strong>:
- <code>implement_position</code> (ImplementPosition): Current implement position (raised/lowered/transport)
- <code>implement_depth</code> (float): Working depth in inches
- <code>implement_width</code> (float): Working width in feet</p>

<p><strong>Field Operations</strong>:
- <code>field_mode</code> (FieldMode): Current field operation mode
- <code>work_rate</code> (float): Work rate in acres/hour
- <code>area_covered</code> (float): Total area covered in acres</p>

<p><strong>Engine and Fuel</strong>:
- <code>fuel_level</code> (float): Fuel level percentage
- <code>engine_rpm</code> (int): Engine RPM
- <code>engine_temp</code> (float): Engine temperature in Fahrenheit</p>

<p><strong>Hydraulics</strong>:
- <code>hydraulic_pressure</code> (float): Hydraulic pressure in PSI
- <code>hydraulic_flow</code> (float): Hydraulic flow in GPM</p>

<p><strong>Sensors</strong>:
- <code>wheel_slip</code> (float): Wheel slip percentage
- <code>ground_speed</code> (float): Ground speed in mph
- <code>draft_load</code> (float): Draft load in pounds</p>

<p><strong>Autonomous Features</strong>:
- <code>autonomous_mode</code> (bool): Whether autonomous mode is enabled
- <code>obstacle_detection</code> (bool): Whether obstacle detection is active
- <code>emergency_stop_active</code> (bool): Whether emergency stop is active</p>

<h3>Comprehensive Methods</h3>

<p><strong>Engine Controls</strong>:
- <code>start_engine()</code> -> str: Starts the engine
- <code>stop_engine()</code> -> str: Stops the engine and resets all systems</p>

<p><strong>Basic Operation</strong>:
- <code>change_gear(gear: int | str)</code> -> str: Changes the gear (0-10)
- <code>accelerate(increase: int)</code> -> str: Increases speed by the specified amount
- <code>brake(decrease: int)</code> -> str: Decreases speed by the specified amount</p>

<p><strong>Power Systems</strong>:
- <code>engage_power_takeoff()</code> -> str: Engages the power takeoff
- <code>disengage_power_takeoff()</code> -> str: Disengages the power takeoff
- <code>activate_hydraulics()</code> -> str: Activates hydraulic systems
- <code>deactivate_hydraulics()</code> -> str: Deactivates hydraulic systems</p>

<p><strong>GPS and Navigation</strong>:
- <code>set_gps_position(latitude: float, longitude: float)</code> -> str: Sets GPS coordinates
- <code>enable_auto_steer()</code> -> str: Enables GPS auto-steer system
- <code>disable_auto_steer()</code> -> str: Disables GPS auto-steer system
- <code>add_waypoint(latitude: float, longitude: float)</code> -> str: Adds navigation waypoint
- <code>clear_waypoints()</code> -> str: Clears all waypoints
- <code>set_heading(heading: float)</code> -> str: Sets current heading (0-359 degrees)</p>

<p><strong>Implement Controls</strong>:
- <code>raise_implement()</code> -> str: Raises the attached implement
- <code>lower_implement(depth: float = 6.0)</code> -> str: Lowers implement to working depth
- <code>set_transport_position()</code> -> str: Sets implement to transport position
- <code>set_implement_width(width: float)</code> -> str: Sets working width (0-80 feet)</p>

<p><strong>Field Operations</strong>:
- <code>set_field_mode(mode: FieldMode)</code> -> str: Sets field operation mode
- <code>start_field_work()</code> -> str: Begins field work operations
- <code>update_work_progress(distance: float)</code> -> str: Updates work progress tracking</p>

<p><strong>Autonomous Operations</strong>:
- <code>enable_autonomous_mode()</code> -> str: Enables autonomous operation mode
- <code>disable_autonomous_mode()</code> -> str: Disables autonomous operation mode
- <code>emergency_stop()</code> -> str: Triggers emergency stop - halts all operations
- <code>reset_emergency_stop()</code> -> str: Resets emergency stop condition</p>

<p><strong>Diagnostic Methods</strong>:
- <code>get_engine_diagnostics()</code> -> Dict[str, float]: Returns engine diagnostic data
- <code>get_hydraulic_status()</code> -> Dict[str, float]: Returns hydraulic system status
- <code>get_ground_conditions()</code> -> Dict[str, float]: Returns ground and traction data</p>

<p><strong>Utility Methods</strong>:
- <code>__str__()</code> -> str: Returns comprehensive string representation
- <code>to_response(tractor_id: str | None = None)</code> -> FarmTractorResponse: Converts to API response model</p>

<h3>FarmTractorResponse: API Model</h3>

<p><strong>Pydantic model for API responses</strong> containing all FarmTractor attributes plus:</p>

<p><strong>Enhanced API Fields</strong>:
- <code>tractor_id</code> (str | None): Optional tractor identifier
- <code>waypoint_count</code> (int): Number of navigation waypoints
- <code>isobus_address</code> (int): ISOBUS device address (ISO 11783 compliance)
- <code>device_name</code> (str): ISOBUS device name
- <code>safety_system_active</code> (bool): Safety system activation status
- <code>safety_level</code> (Literal["PLc", "PLd", "PLe"]): ISO 18497 Performance Level
- <code>lidar_enabled</code> (bool): LiDAR sensor status
- <code>obstacle_count</code> (int): Number of detected obstacles
- <code>regenerative_mode</code> (bool): Regenerative power mode status
- <code>status</code> (str): Complete tractor status string</p>

<h3>Example Usage</h3>

<div class="codehilite">
<pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">afs_fastapi.equipment.farm_tractors</span><span class="w"> </span><span class="kn">import</span> <span class="n">FarmTractor</span><span class="p">,</span> <span class="n">FieldMode</span>

<span class="c1"># Create tractor instance</span>
<span class="n">tractor</span> <span class="o">=</span> <span class="n">FarmTractor</span><span class="p">(</span>
    <span class="n">make</span><span class="o">=</span><span class="s2">&quot;John Deere&quot;</span><span class="p">,</span>
    <span class="n">model</span><span class="o">=</span><span class="s2">&quot;9RX&quot;</span><span class="p">,</span>
    <span class="n">year</span><span class="o">=</span><span class="mi">2023</span><span class="p">,</span>
    <span class="n">manual_url</span><span class="o">=</span><span class="s2">&quot;https://www.deere.com/en/parts-and-service/manuals-and-training&quot;</span>
<span class="p">)</span>

<span class="c1"># Start engine and configure GPS</span>
<span class="n">tractor</span><span class="o">.</span><span class="n">start_engine</span><span class="p">()</span>
<span class="n">tractor</span><span class="o">.</span><span class="n">set_gps_position</span><span class="p">(</span><span class="mf">40.123456</span><span class="p">,</span> <span class="o">-</span><span class="mf">85.654321</span><span class="p">)</span>
<span class="n">tractor</span><span class="o">.</span><span class="n">enable_auto_steer</span><span class="p">()</span>
<span class="n">tractor</span><span class="o">.</span><span class="n">add_waypoint</span><span class="p">(</span><span class="mf">40.125000</span><span class="p">,</span> <span class="o">-</span><span class="mf">85.650000</span><span class="p">)</span>

<span class="c1"># Configure for field work</span>
<span class="n">tractor</span><span class="o">.</span><span class="n">change_gear</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">tractor</span><span class="o">.</span><span class="n">accelerate</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>  <span class="c1"># 12 mph working speed</span>
<span class="n">tractor</span><span class="o">.</span><span class="n">activate_hydraulics</span><span class="p">()</span>
<span class="n">tractor</span><span class="o">.</span><span class="n">set_implement_width</span><span class="p">(</span><span class="mf">32.0</span><span class="p">)</span>  <span class="c1"># 32-foot implement</span>
<span class="n">tractor</span><span class="o">.</span><span class="n">lower_implement</span><span class="p">(</span><span class="mf">8.0</span><span class="p">)</span>  <span class="c1"># 8 inches deep</span>
<span class="n">tractor</span><span class="o">.</span><span class="n">set_field_mode</span><span class="p">(</span><span class="n">FieldMode</span><span class="o">.</span><span class="n">TILLAGE</span><span class="p">)</span>

<span class="c1"># Start autonomous field work</span>
<span class="n">tractor</span><span class="o">.</span><span class="n">enable_autonomous_mode</span><span class="p">()</span>
<span class="n">tractor</span><span class="o">.</span><span class="n">start_field_work</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Work rate: </span><span class="si">{</span><span class="n">tractor</span><span class="o">.</span><span class="n">work_rate</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> acres/hour&quot;</span><span class="p">)</span>

<span class="c1"># Get diagnostics</span>
<span class="n">engine_diagnostics</span> <span class="o">=</span> <span class="n">tractor</span><span class="o">.</span><span class="n">get_engine_diagnostics</span><span class="p">()</span>
<span class="n">hydraulic_status</span> <span class="o">=</span> <span class="n">tractor</span><span class="o">.</span><span class="n">get_hydraulic_status</span><span class="p">()</span>
<span class="n">ground_conditions</span> <span class="o">=</span> <span class="n">tractor</span><span class="o">.</span><span class="n">get_ground_conditions</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Engine RPM: </span><span class="si">{</span><span class="n">engine_diagnostics</span><span class="p">[</span><span class="s1">&#39;rpm&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hydraulic pressure: </span><span class="si">{</span><span class="n">hydraulic_status</span><span class="p">[</span><span class="s1">&#39;pressure&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> PSI&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Ground speed: </span><span class="si">{</span><span class="n">ground_conditions</span><span class="p">[</span><span class="s1">&#39;ground_speed&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> mph&quot;</span><span class="p">)</span>

<span class="c1"># Convert to API response</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">tractor</span><span class="o">.</span><span class="n">to_response</span><span class="p">(</span><span class="s2">&quot;tractor-001&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Safety level: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">safety_level</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ISOBUS device: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">device_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Emergency stop if needed</span>
<span class="c1"># tractor.emergency_stop()</span>

<span class="c1"># End operations</span>
<span class="n">tractor</span><span class="o">.</span><span class="n">raise_implement</span><span class="p">()</span>
<span class="n">tractor</span><span class="o">.</span><span class="n">set_transport_position</span><span class="p">()</span>
<span class="n">tractor</span><span class="o">.</span><span class="n">disable_autonomous_mode</span><span class="p">()</span>
<span class="n">tractor</span><span class="o">.</span><span class="n">stop_engine</span><span class="p">()</span>
</code></pre>
</div>

<hr />

<h2>Monitoring Systems</h2>

<h3>Pluggable Backend Architecture</h3>

<p>Monitoring classes accept pluggable backends enabling seamless transition between development simulation and production hardware integration.</p>

<p><strong>Soil Monitoring Example</strong>:</p>

<div class="codehilite">
<pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">afs_fastapi.monitoring.interfaces</span><span class="w"> </span><span class="kn">import</span> <span class="n">SoilSensorBackend</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">afs_fastapi.monitoring.soil_monitor</span><span class="w"> </span><span class="kn">import</span> <span class="n">SoilMonitor</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MySoilBackend</span><span class="p">(</span><span class="n">SoilSensorBackend</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sensor_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;ph&quot;</span><span class="p">:</span> <span class="mf">6.7</span><span class="p">,</span>
            <span class="s2">&quot;moisture&quot;</span><span class="p">:</span> <span class="mf">0.33</span><span class="p">,</span>
            <span class="s2">&quot;nitrogen&quot;</span><span class="p">:</span> <span class="mf">1.2</span><span class="p">,</span>
            <span class="s2">&quot;phosphorus&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
            <span class="s2">&quot;potassium&quot;</span><span class="p">:</span> <span class="mf">0.7</span>
        <span class="p">}</span>

<span class="n">monitor</span> <span class="o">=</span> <span class="n">SoilMonitor</span><span class="p">(</span><span class="s2">&quot;SOIL001&quot;</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="n">MySoilBackend</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">monitor</span><span class="o">.</span><span class="n">get_soil_composition</span><span class="p">())</span>
</code></pre>
</div>

<p><strong>Water Monitoring Example</strong>:</p>

<div class="codehilite">
<pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">afs_fastapi.monitoring.interfaces</span><span class="w"> </span><span class="kn">import</span> <span class="n">WaterSensorBackend</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">afs_fastapi.monitoring.water_monitor</span><span class="w"> </span><span class="kn">import</span> <span class="n">WaterMonitor</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyWaterBackend</span><span class="p">(</span><span class="n">WaterSensorBackend</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sensor_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;ph&quot;</span><span class="p">:</span> <span class="mf">7.2</span><span class="p">,</span>
            <span class="s2">&quot;turbidity&quot;</span><span class="p">:</span> <span class="mf">1.1</span><span class="p">,</span>
            <span class="s2">&quot;temperature&quot;</span><span class="p">:</span> <span class="mf">18.0</span><span class="p">,</span>
            <span class="s2">&quot;conductivity&quot;</span><span class="p">:</span> <span class="mf">0.23</span><span class="p">,</span>
            <span class="s2">&quot;dissolved_oxygen&quot;</span><span class="p">:</span> <span class="mf">8.0</span>
        <span class="p">}</span>

<span class="n">monitor</span> <span class="o">=</span> <span class="n">WaterMonitor</span><span class="p">(</span><span class="s2">&quot;WTR001&quot;</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="n">MyWaterBackend</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">monitor</span><span class="o">.</span><span class="n">get_water_quality</span><span class="p">())</span>
</code></pre>
</div>

<hr />

<h2>Build Process</h2>

<h3>Installation Steps</h3>

<ol>
<li>Clone the repository: <code>git clone https://github.com/dderyldowney/afs_fastapi.git</code></li>
<li>Change to the project directory: <code>cd afs_fastapi</code></li>
<li>Create a virtual environment: <code>python -m venv .venv</code></li>
<li>Activate the virtual environment: <code>source .venv/bin/activate</code></li>
<li>Install the project dependencies: <code>pip install -r requirements.txt</code></li>
<li><strong>Verify installation with test suite</strong>: <code>python -m pytest tests/ -v</code>
<ul>
<li><strong>Expected result</strong>: 161 tests passing in ~3 seconds</li>
<li>Includes distributed systems, TDD implementation, and agricultural robotics validation</li>
</ul></li>
<li>Install build tools: <code>pip install build</code></li>
<li>Build the project: <code>python -m build</code></li>
<li>Install the generated wheel file: <code>pip install dist/afs_fastapi-0.1.0-py3-none-any.whl</code></li>
<li>Import afs_fastapi into your project: <code>import afs_fastapi</code></li>
</ol>

<h3>Development and Testing</h3>

<ul>
<li><strong>TDD workflow</strong>: See <a href="TDD_WORKFLOW.md">TDD_WORKFLOW.md</a> for Test-First development guide</li>
<li><strong>Testing reference</strong>: See <a href="WORKFLOW.md">WORKFLOW.md</a> for complete testing architecture documentation</li>
<li><strong>Quality standards</strong>: Zero linting warnings maintained (run <code>ruff check .</code> to verify)</li>
</ul>

<p>Note on extras: The project uses <code>fastapi[all]</code> and <code>starlette[full]</code> in development to enable optional features commonly exercised in tests and local runs (e.g., test client utilities, templating, multipart/form-data handling, and uvicorn's standard extras). This keeps "pip install -r requirements.txt" sufficient for running tests and docs locally.</p>

<hr />

<h2>Run the API locally</h2>

<ul>
<li>Quick start (defaults to 127.0.0.1:8000):
<ul>
<li><code>python -m afs_fastapi</code></li>
<li>or <code>afs-api</code> (installed console script)</li>
</ul></li>
<li>Environment overrides:
<ul>
<li><code>AFS_API_HOST</code> (default: 127.0.0.1)</li>
<li><code>AFS_API_PORT</code> (default: 8000)</li>
<li><code>AFS_API_RELOAD</code> (true/false, default: false)</li>
<li><code>AFS_API_LOG_LEVEL</code> (debug/info/warning/error, default: info)</li>
</ul></li>
</ul>

<hr />

<h2>Resource References</h2>

<h3>Operational Manuals for Farm Equipment</h3>

<p><strong>Objective</strong>: Identify and utilize online resources providing operational manuals for farm equipment. These manuals guide adaptation of robotics to operate agricultural machines for automation purposes.</p>

<p><strong>Sources</strong>:
1. <a href="https://agmanuals.com">AgManuals</a>
2. <a href="https://www.caseih.com/en-us/unitedstates/service-support/operators-manuals">Case IH Operator Manuals</a>
3. <a href="https://farmmanualsfast.com">Farm Manuals Fast</a>
4. <a href="https://www.agcopubs.com">AGCO Technical Publications</a>
5. <a href="https://www.deere.com/en/parts-and-service/manuals-and-training">John Deere Manuals and Training</a>
6. <a href="https://farming-constructionmanuals.com">Farming and Construction Manuals</a>
7. <a href="https://solano-horizonte.com/download-catalogs-and-manuals-of-agricultural-machinery">Solano Horizonte</a>
8. <a href="https://forums.yesterdaystractors.com">Yesterday's Tractors Forums</a>
9. <a href="https://tractortoolsdirect.com/manuals">Tractor Tools Direct</a>
10. <a href="https://www.generalimp.com/manuals">General Implement Distributors</a>
11. <a href="https://www.tractordata.com">TractorData</a>
12. <a href="https://www.tractor-manuals-downunder.com">Tractor Manuals Downunder</a></p>

<h3>Soil Monitoring Tools and Sensors</h3>

<p><strong>Objective</strong>: Research and utilize tools, sensors, and platforms to monitor soil composition, mineral content, and pH balance, ensuring optimal crop health.</p>

<p><strong>Resources</strong>:
1. <a href="https://soilscout.com">Soil Scout</a>
2. <a href="https://www.renkeer.com/product/soil-nutrient-sensor/">Renke 4-in-1 Soil Nutrient Sensor</a>
3. <a href="https://www.murata.com/en-us/products/sensor/soil">Murata Soil Sensors</a>
4. <a href="https://www.horiba.com/usa/water-quality/applications/agriculture-crop-science/soil-ph-and-nutrient-availability/">HORIBA LAQUAtwin pH Meters</a>
5. <a href="https://www.sensoterra.com/soil-sensor-for-agriculture/">Sensoterra Soil Moisture Sensors</a>
6. <a href="https://www.dfrobot.com/product-2830.html">DFRobot 4-in-1 Soil Sensor</a>
7. <a href="https://www.earthscout.com/">EarthScout Agricultural Field Sensors</a>
8. <a href="https://extension.umn.edu/irrigation/soil-moisture-sensors-irrigation-scheduling">University of Minnesota Extension: Soil Moisture Sensors</a>
9. <a href="https://attra.ncat.org/publication/soil-moisture-monitoring-low-cost-tools-and-methods/">ATTRA: Soil Moisture Monitoring Tools</a>
10. <a href="https://www.escatec.com/blog/electrochemical-sensors-soil-analysis-through-precision-agriculture">ESCATEC Electrochemical Sensors</a></p>

<h3>Water Quality Monitoring Resources</h3>

<p><strong>Objective</strong>: Identify and deploy tools to assess and maintain water composition, mineral levels, and pH balance, ensuring water quality is optimized for agricultural use.</p>

<p><strong>Resources</strong>:
1. <a href="https://www.renkeer.com/top-7-water-quality-sensors/">Renke Water Quality Sensors</a>
2. <a href="https://in-situ.com/us/agriculture">In-Situ Agriculture Water Monitoring</a>
3. <a href="https://www.xylemanalytics.com/en/products/water-quality-monitoring">Xylem Analytics Water Quality Monitoring</a>
4. <a href="https://ketos.co/">KETOS Automated Water Monitoring</a>
5. <a href="https://www.ysi.com/products">YSI Water Quality Systems</a>
6. <a href="https://www.sgs.com/en-us/services/agricultural-water-testing">SGS Agricultural Water Testing</a>
7. <a href="https://www.boquinstrument.com/how-water-quality-sensors-are-used-in-agriculture-and-farming.html">Boqu Instrument Water Quality Sensors</a>
8. <a href="https://sense.digitalmatter.com/blog/water-quality-monitoring">Digital Matter Remote Sensor Solutions</a>
9. <a href="https://www.intuz.com/blog/iot-for-water-monitoring-in-crops">Intuz IoT Water Monitoring</a>
10. <a href="https://www.rikasensor.com/blog-top-10-water-quality-sensors-for-water-treatments.html">Rika Sensor Water Quality Sensors</a></p>

<h3>Water Sampling Datasets</h3>

<p><strong>Objective</strong>: Access and analyze publicly available water quality datasets to inform ML models for monitoring water conditions suitable for farming.</p>

<p><strong>Sources</strong>:
1. <a href="https://www.waterqualitydata.us/">Water Quality Portal (WQP)</a>
2. <a href="https://catalog.data.gov/dataset">USGS National Water Information System (NWIS)</a>
3. <a href="https://www.epa.gov/waterdata/water-quality-data">EPA Water Quality Data</a>
4. <a href="https://www.kaggle.com/datasets/abhishekkhanna004/water-quality-dataset-for-crop">Kaggle: Water Quality Dataset for Crop</a>
5. <a href="https://agdatacommons.nal.usda.gov/articles/dataset/Soil_and_Water_Hub_Modeling_Datasets/24852681">Ag Data Commons: Soil and Water Hub Modeling</a>
6. <a href="https://www.earthdata.nasa.gov/topics/ocean/water-quality">NASA Earthdata: Water Quality</a></p>

<h3>Machine Learning Integration Goals</h3>

<p><strong>Objective</strong>: Synthesize research and datasets into ML models and robotics systems capable of automating farm operations, improving efficiency, and ensuring sustainability.</p>

<p><strong>Model Applications</strong>:
- Autonomous machine operation (leveraging operational manuals)
- Soil condition predictions and adjustments
- Water quality monitoring and real-time management</p>

<p><strong>Tools and Techniques</strong>:
- ML libraries like TensorFlow and PyTorch
- IoT-enabled sensors for real-time data collection
- Integration with cloud platforms for data storage and analysis</p>

<hr />

<h2>Contributing</h2>

<h3>Development Workflow</h3>

<p>AFS FastAPI uses <strong>Test-First Development (TDD)</strong> for ALL code development. Follow these guidelines:</p>

<p><strong>1. Test-First Development (MANDATORY)</strong>:
- Follow <strong>Red-Green-Refactor</strong> methodology outlined in <a href="TDD_WORKFLOW.md">TDD_WORKFLOW.md</a>
- Write failing tests first, then implement minimal code to pass
- Refactor for quality while maintaining test coverage
- Agricultural context required in all test scenarios</p>

<p><strong>2. General Development</strong>:
- See <a href="CONTRIBUTING.md">CONTRIBUTING.md</a> for Quick Verification Checklist
- Run full test suite: <code>python -m pytest tests/</code> (expect 161 tests passing)
- Maintain zero linting warnings: <code>ruff check .</code>
- Follow git commit separation: <code>type(scope): description</code></p>

<p><strong>Key Documentation</strong>:
- <strong>WORKFLOW.md</strong>: Authoritative testing reference and architecture guide
- <strong>TDD_WORKFLOW.md</strong>: Complete Test-First development methodology
- <strong>TDD_FRAMEWORK_MANDATORY.md</strong>: Mandatory TDD policy with enforcement details
- <strong>GIT_COMMIT_SEPARATION_MANDATORY.md</strong>: Separation of concerns policy
- <strong>SESSION_SUMMARY.md</strong>: Project evolution and strategic direction</p>

<p><strong>Quality Standards</strong>:
- <strong>Test coverage</strong>: All new components require comprehensive tests written FIRST
- <strong>Performance</strong>: Sub-millisecond operations for real-time agricultural coordination
- <strong>Documentation</strong>: Dual-purpose code serving both functional and educational objectives
- <strong>Agricultural context</strong>: ISO compliance and safety-critical system considerations</p>

<hr />

<h2>Security Notes</h2>

<p>This project enables automated checks (Dependabot + pip-audit) for dependency vulnerabilities. Two current advisories are known and monitored:</p>

<ul>
<li><p><strong>Starlette 0.41.3: GHSA-2c2j-9gv5-cj73 (CVE-2025-54121)</strong> - <strong>UNRESOLVED</strong></p>

<ul>
<li>Summary: Large multipart form uploads may block the event loop while rolling files to disk.</li>
<li>Current version: <strong>0.41.3</strong> (vulnerable)</li>
<li>Fixed in: Starlette &gt;= 0.47.2</li>
<li>Project impact: This API does not use multipart uploads; risk is low in our deployment.</li>
<li>Status: Awaiting compatible FastAPI release that supports Starlette &gt;= 0.47.2.</li>
</ul></li>
<li><p><strong>h11 0.14.0: GHSA-vqfr-h8mv-ghfj (CVE-2025-43859)</strong> - <strong>UNRESOLVED</strong></p>

<ul>
<li>Summary: Lenient chunked-encoding parsing could enable request smuggling in specific proxy scenarios.</li>
<li>Current version: <strong>0.14.0</strong> (vulnerable)</li>
<li>Fixed in: h11 &gt;= 0.16.0</li>
<li>Project impact: h11 is used via httpx/httpcore for HTTP client operations. Server stack uses Uvicorn/Starlette. Risk is low in typical deployments with proper reverse proxy configuration.</li>
<li>Status: Upgrade blocked by httpcore compatibility. Requires httpcore &gt;= 1.0.9 which conflicts with current httpx pinning.</li>
</ul></li>
</ul>

<p><strong>Recent Security Improvements (January 2025)</strong>:
- ✅ <strong>requests</strong>: Upgraded to 2.32.5 (latest) - includes URI parsing security improvements
- ✅ <strong>urllib3</strong>: Upgraded to 2.5.0 (latest) - fixes redirect vulnerability (security patch)
- ✅ <strong>setuptools</strong>: Upgraded to 80.9.0 (latest) - stability and security updates</p>

<p><strong>Mitigations in place</strong>:
- No multipart form endpoints are exposed in the API.
- HTTP client usage is limited to development/testing scenarios.
- CI automatically flags vulnerabilities and proposes coordinated updates.
- Reverse proxy configurations should include proper request validation.</p>

<hr />

<h2>Conclusion</h2>

<p>AFS FastAPI represents a comprehensive platform combining production-grade agricultural robotics capabilities with educational value for professional development. The platform demonstrates industry-leading Test-Driven Development enforcement, distributed systems excellence, and universal AI agent infrastructure—establishing a foundation for safe, reliable, and efficient multi-tractor coordination in modern agriculture.</p>

<p><strong>Platform Status</strong>: Production-ready multi-tractor coordination system with mandatory TDD enforcement and zero technical debt.</p>

<p><strong>Strategic Achievement</strong>: Industry's only platform combining ISO compliance, distributed systems coordination, and comprehensive educational framework with universal AI agent development standards.</p>

<p><strong>Future Readiness</strong>: Advanced capabilities positioned for CRDT implementation, enhanced ISOBUS messaging, enterprise scaling, and real agricultural equipment integration.</p>

    </div>
</body>
</html>
